<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin-allow-popups">
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp">
    <title>LavaWhey - Chính sách & Điều khoản</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database-compat.js"></script>
    <script src="search_new.js"></script>
    <link rel="stylesheet" href="search.css">
    <script src="mobile.js"></script>
    <link rel="stylesheet" href="mobile.css">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Lấy các phần tử cần thiết
            const cartButton = document.querySelector('.btn-cart');
            const cartDropdown = document.querySelector('.cart-dropdown');
            const cartItems = document.querySelector('.cart-items');
            const cartCount = document.querySelector('.cart-count');
            const cartCountBadge = document.querySelector('.cart-count-badge');

            // Cập nhật số lượng ban đầu từ localStorage
            const initialCart = JSON.parse(localStorage.getItem(getCartKey())) || [];
            const initialCount = initialCart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = initialCount;
            cartCountBadge.textContent = `${initialCount} sản phẩm`;
            const emptyCart = document.querySelector('.empty-cart');
            const cartSummary = document.querySelector('.cart-summary');
            const cartButtons = document.querySelector('.cart-buttons');

            // Hàm lấy key giỏ hàng theo user
            function getCartKey() {
                const user = firebase.auth().currentUser;
                return user ? `cart_${user.uid}` : 'cart_guest';
            }

            // Khởi tạo giỏ hàng từ localStorage hoặc tạo mới nếu chưa có
            let cart = JSON.parse(localStorage.getItem(getCartKey())) || [];
            
            // Lắng nghe sự kiện thay đổi từ các tab khác
            window.addEventListener('storage', function(e) {
                if (e.key === getCartKey()) {
                    cart = JSON.parse(e.newValue || '[]');
                    updateCartDisplay();
                }
            });

            // Cập nhật hiển thị giỏ hàng
            function updateCartDisplay() {
                cart = JSON.parse(localStorage.getItem(getCartKey())) || [];
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                if (cartCount) cartCount.textContent = totalItems;
                if (cartCountBadge) cartCountBadge.textContent = `${totalItems} sản phẩm`;

                if (totalItems === 0) {
                    emptyCart.style.display = 'block';
                    cartSummary.style.display = 'none';
                    cartButtons.style.display = 'none';
                    cartItems.innerHTML = '';
                } else {
                    emptyCart.style.display = 'none';
                    cartSummary.style.display = 'block';
                    cartButtons.style.display = 'flex';
                    renderCartItems();
                }
                updateCartSummary();
            }

            // Render items in cart
            function renderCartItems() {
                cartItems.innerHTML = cart.map(item => `
                    <div class="cart-item" data-id="${item.id}">
                        <img src="${item.image.startsWith('http') ? item.image : item.image.startsWith('/') ? item.image : '/' + item.image}" alt="${item.name}" class="cart-item-image" onerror="this.src='images/default-product.png'">
                        <div class="cart-item-details">
                            <h4 class="cart-item-name">${item.name}</h4>
                            <div class="cart-item-price">${formatPrice(item.price)}</div>
                            <div class="cart-item-quantity">
                                <button class="quantity-btn minus" ${item.quantity === 1 ? 'disabled' : ''}>-</button>
                                <input type="number" class="quantity-input" value="${item.quantity}" min="1" max="99">
                                <button class="quantity-btn plus">+</button>
                            </div>
                        </div>
                        <i class="fas fa-times cart-item-remove"></i>
                    </div>
                `).join('');

                // Add event listeners for quantity buttons
                cartItems.querySelectorAll('.quantity-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const item = this.closest('.cart-item');
                        const id = item.dataset.id;
                        const cartItem = cart.find(i => i.id === id);
                        if (this.classList.contains('plus')) {
                            cartItem.quantity++;
                        } else if (this.classList.contains('minus') && cartItem.quantity > 1) {
                            cartItem.quantity--;
                        }
                        saveCart();
                        updateCartDisplay();
                    });
                });

                // Hàm lưu giỏ hàng
                function saveCart() {
                    localStorage.setItem(getCartKey(), JSON.stringify(cart));
                }

                // Add event listeners for quantity input
                cartItems.querySelectorAll('.quantity-input').forEach(input => {
                    input.addEventListener('change', function() {
                        const item = this.closest('.cart-item');
                        const id = item.dataset.id;
                        const cartItem = cart.find(i => i.id === id);
                        const newQuantity = parseInt(this.value);
                        if (newQuantity > 0 && newQuantity < 100) {
                            cartItem.quantity = newQuantity;
                            saveCart();
                            updateCartDisplay();
                        } else {
                            this.value = cartItem.quantity;
                        }
                    });
                });

                // Add event listeners for remove buttons
                cartItems.querySelectorAll('.cart-item-remove').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const item = this.closest('.cart-item');
                        const id = item.dataset.id;
                        cart = cart.filter(i => i.id !== id);
                        saveCart();
                        updateCartDisplay();
                    });
                });
            }

            // Update cart summary
            function updateCartSummary() {
                const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const shipping = subtotal > 0 ? 30000 : 0;
                const total = subtotal + shipping;

                const summaryRows = document.querySelectorAll('.cart-summary-row');
                summaryRows[0].querySelector('span:last-child').textContent = formatPrice(subtotal);
                summaryRows[1].querySelector('span:last-child').textContent = formatPrice(shipping);
                summaryRows[2].querySelector('span:last-child').textContent = formatPrice(total);
            }

            // Format price to VND
            function formatPrice(price) {
                return new Intl.NumberFormat('vi-VN', {
                    style: 'currency',
                    currency: 'VND'
                }).format(price);
            }

            // Save cart to localStorage
            function saveCart() {
                localStorage.setItem('cart', JSON.stringify(cart));
            }
            
            // Hiển thị/ẩn dropdown giỏ hàng
            cartButton.addEventListener('click', function(e) {
                e.preventDefault();
                cartDropdown.classList.toggle('show');
                updateCartDisplay();
            });
            
            // Đóng dropdown khi click ra ngoài
            document.addEventListener('click', function(e) {
                if (!cartButton.contains(e.target) && !cartDropdown.contains(e.target)) {
                    cartDropdown.classList.remove('show');
                }
            });

            // Handle continue shopping button
            document.querySelector('.btn-continue').addEventListener('click', function() {
                cartDropdown.classList.remove('show');
            });

            // Handle checkout button
            document.querySelector('.btn-checkout').addEventListener('click', function() {
                if (cart.length > 0) {
                    window.location.href = 'checkout.html';
                }
            });
            
            // Lắng nghe sự thay đổi của localStorage từ các tab khác
            window.addEventListener('storage', function(e) {
                if (e.key === 'cart') {
                    cart = JSON.parse(e.newValue || '[]');
                    updateCartDisplay();
                }
            });
            
            // Cập nhật hiển thị ban đầu
            updateCartDisplay();
        });
    </script>
<style>
        /* Reset CSS */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --primary-color: #FF6B00;
        --secondary-color: #FF8533;
        --dark-color: #333;
        --light-color: #fff;
        --gray-color: #f4f4f4;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: var(--dark-color);
    }

    /* Offset for fixed header */
    section[id] {
        scroll-margin-top: 120px;
    }

    /* Header & Navigation */
    .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 2rem 5%;
        background-color: var(--dark-color);
        position: fixed;
        width: 100%;
        top: 0;
        z-index: 1000;
        height: 120px;
    }

    .logo {
        display: flex;
        align-items: center;
    }

    .logo img {
        width: 90px;
        height: auto;
        object-fit: contain;
        border-radius: 50%;
        transition: transform 0.3s ease;
        padding: 5px;
        background-color: white;
    }

    .logo img:hover {
        transform: scale(1.05);
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .logo h1 {
        display: none;
    }

    .nav-links {
        display: flex;
        list-style: none;
        gap: 1.5rem;
    }

    .nav-links a {
        text-decoration: none;
        color: #ffffff;
        font-weight: 500;
        font-size: 1.1rem;
        transition: color 0.3s ease;
    }

    .nav-links a:hover,
    .nav-links a.active {
        color: var(--primary-color);
    }

    .nav-buttons {
        display: flex;
        gap: 1rem;
        align-items: center;
    }

    .btn-login {
        padding: 0.8rem 2rem;
        background-color: var(--primary-color);
        color: var(--light-color);
        text-decoration: none;
        border-radius: 25px;
        transition: background-color 0.3s ease;
        font-size: 1.1rem;
        font-weight: 500;
    }

    .btn-login:hover {
        background-color: var(--secondary-color);
    }

    .cart-container {
        position: relative;
        margin-left: 1.5rem;
    }

    .btn-cart {
        color: var(--primary-color);
        font-size: 1.4rem;
        text-decoration: none;
        position: relative;
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border-radius: 8px;
        transition: all 0.3s ease;
        cursor: pointer;
        background-color: rgba(255, 255, 255, 0.9);
    }

    .btn-cart:hover {
        background-color: var(--light-color);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
    }

    .cart-count {
        position: absolute;
        top: -8px;
        right: -8px;
        background-color: var(--primary-color);
        color: var(--light-color);
        border-radius: 50%;
        min-width: 22px;
        height: 22px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.85rem;
        font-weight: bold;
        padding: 0 4px;
        border: 2px solid var(--light-color);
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .btn-cart:hover .cart-count {
        transform: scale(1.1);
        background-color: var(--secondary-color);
        box-shadow: 0 2px 8px rgba(255, 107, 0, 0.5);
    }

    .cart-dropdown {
        position: absolute;
        top: calc(100% + 15px);
        right: 0;
        width: 400px;
        background-color: var(--light-color);
        border-radius: 16px;
        box-shadow: 0 6px 30px rgba(0,0,0,0.15);
        padding: 1.5rem;
        display: none;
        z-index: 1001;
        animation: slideDown 0.3s ease;
        border: 1px solid rgba(0,0,0,0.08);
    }

    .cart-dropdown::before {
        content: '';
        position: absolute;
        top: -8px;
        right: 20px;
        width: 16px;
        height: 16px;
        background-color: white;
        transform: rotate(45deg);
        border-left: 1px solid rgba(0,0,0,0.08);
        border-top: 1px solid rgba(0,0,0,0.08);
    }

    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .cart-dropdown.show {
        display: block;
    }

    .cart-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid #eee;
    }

    .cart-header h3 {
        font-size: 1.2rem;
        color: var(--dark-color);
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .cart-header h3 i {
        color: var(--primary-color);
    }

    .cart-count-badge {
        background-color: var(--gray-color);
        color: var(--dark-color);
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 0.9rem;
    }

    .cart-items {
        max-height: 320px;
        overflow-y: auto;
        margin-bottom: 1.5rem;
    }

    .cart-items::-webkit-scrollbar {
        width: 6px;
    }

    .cart-items::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 3px;
    }

    .cart-items::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 3px;
    }

    .cart-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem 0;
        border-bottom: 1px solid #eee;
        transition: all 0.3s ease;
    }

    .cart-item:last-child {
        border-bottom: none;
    }

    .cart-item:hover {
        background-color: var(--gray-color);
        padding: 1rem;
        margin: 0 -1rem;
        border-radius: 8px;
    }

    .cart-item-image {
        width: 80px;
        height: 80px;
        border-radius: 8px;
        object-fit: cover;
        border: 1px solid #eee;
    }

    .cart-item-details {
        flex: 1;
    }

    .cart-item-name {
        font-weight: 500;
        margin-bottom: 4px;
        color: var(--dark-color);
    }

    .cart-item-price {
        color: var(--primary-color);
        font-weight: 600;
        font-size: 1.1rem;
    }

    .cart-item-quantity {
        display: flex;
        align-items: center;
        gap: 8px;
        margin-top: 8px;
    }

    .quantity-btn {
        background: var(--gray-color);
        border: none;
        width: 28px;
        height: 28px;
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
        color: var(--dark-color);
    }

    .quantity-btn:hover:not(:disabled) {
        background: var(--primary-color);
        color: var(--light-color);
    }

    .quantity-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .quantity-input {
        width: 40px;
        text-align: center;
        border: 1px solid #ddd;
        border-radius: 6px;
        padding: 4px;
    }

    .cart-item-remove {
        color: #999;
        cursor: pointer;
        padding: 4px;
        transition: all 0.2s ease;
    }

    .cart-item-remove:hover {
        color: #ff4444;
        transform: scale(1.1);
    }

    .cart-summary {
        background-color: var(--gray-color);
        border-radius: 12px;
        padding: 1.2rem;
        margin-top: 1rem;
    }

    .cart-summary-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
    }

    .cart-summary-row.total {
        border-top: 1px dashed #ddd;
        margin-top: 12px;
        padding-top: 12px;
        font-weight: 600;
        font-size: 1.1rem;
        color: var(--primary-color);
    }

    .cart-buttons {
        display: flex;
        gap: 1rem;
        margin-top: 1.5rem;
    }

    .btn-checkout {
        flex: 2;
        padding: 1rem;
        background-color: var(--primary-color);
        color: var(--light-color);
        border: none;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-checkout:hover {
        background-color: var(--secondary-color);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(255, 107, 0, 0.2);
    }

    .btn-continue {
        flex: 1;
        padding: 1rem;
        background-color: var(--gray-color);
        color: var(--dark-color);
        border: none;
        border-radius: 8px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-continue:hover {
        background-color: var(--dark-color);
        color: var(--light-color);
    }

    .empty-cart {
        text-align: center;
        padding: 2rem 0;
    }

    .empty-cart i {
        font-size: 3rem;
        color: #ddd;
        margin-bottom: 1rem;
    }

    .empty-cart p {
        color: #999;
        margin-bottom: 1rem;
    }

    .empty-cart .btn-shop {
        display: inline-block;
        padding: 0.8rem 2rem;
        background-color: var(--primary-color);
        color: white;
        text-decoration: none;
        border-radius: 8px;
        transition: background-color 0.3s ease;
    }

    .empty-cart .btn-shop:hover {
        background-color: var(--secondary-color);
    }

    .cart-notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #4CAF50;
        color: white;
        padding: 1rem 2rem;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        display: flex;
        align-items: center;
        gap: 12px;
        animation: slideIn 0.3s ease-out;
        z-index: 1000;
    }

    .cart-notification i {
        font-size: 1.2rem;
    }

    /* Hero Section */
    .hero {
        position: relative;
        height: 60vh;
        min-height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        color: white;
        margin-top: 120px;
        background: linear-gradient(135deg, #FF6B00 0%, #FF8533 100%);
        overflow: hidden;
    }

    .hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(to right, rgba(0,0,0,0.8), rgba(0,0,0,0.4));
        z-index: 1;
    }

    .hero-content {
        position: relative;
        z-index: 2;
        max-width: 1000px;
        padding: 0 20px;
    }

    .hero h1 {
        font-size: 5rem;
        margin-bottom: 30px;
        text-shadow: 3px 3px 6px rgba(0,0,0,0.6);
        font-weight: 800;
        letter-spacing: 2px;
    }

    .hero p {
        font-size: 1.6rem;
        margin-bottom: 40px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.6);
        line-height: 1.6;
    }

    .cta-button {
        display: inline-block;
        padding: 20px 50px;
        background: linear-gradient(45deg, #FF6B00, #FF8533);
        color: white;
        text-decoration: none;
        border-radius: 30px;
        font-weight: 700;
        font-size: 1.4rem;
        transition: all 0.3s ease;
        border: none;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(255, 107, 0, 0.4);
        text-transform: uppercase;
        letter-spacing: 2px;
        text-align: center;
    }

    .cta-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 25px rgba(255, 107, 0, 0.5);
        background: linear-gradient(45deg, #FF8533, #FF6B00);
    }

    .cta-button:active {
        transform: translateY(1px);
        box-shadow: 0 2px 15px rgba(255, 107, 0, 0.3);
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Featured Products (Index Page) */
    .featured-products {
        padding: 5rem 5%;
        background-color: var(--gray-color);
    }

    .featured-products h2 {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 3rem;
        color: var(--dark-color);
    }

    .featured-products .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .featured-products .product-card {
        background: #fff;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
        display: flex;
        flex-direction: column;
        padding-bottom: 20px;
    }

    .featured-products .product-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .featured-products .product-card img {
        width: 100%;
        height: 250px;
        object-fit: contain;
        background-color: #f8f8f8;
        padding: 20px;
        transition: transform 0.3s ease;
        margin-bottom: 15px;
    }

    .featured-products .product-card:hover img {
        transform: scale(1.05);
    }

    .featured-products .product-card h3 {
        padding: 1.5rem 1.5rem 0.5rem;
        font-size: 1.2rem;
        color: var(--dark-color);
        font-weight: 600;
        margin-bottom: 10px;
    }

    .featured-products .product-card .price {
        color: #FF6B00;
        font-size: 1.3rem;
        font-weight: bold;
        padding: 0.5rem 1.5rem;
        margin-bottom: 15px;
    }

    /* Products Page Specific Styles */
    .products-section {
        padding: 6rem 5% 4rem;
        background-color: var(--gray-color);
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
        display: flex;
        gap: 1.5rem;
    }

    /* Categories */
    .categories {
        width: 200px;
        background: var(--light-color);
        padding: 1.2rem;
        border-radius: 15px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        height: fit-content;
        position: sticky;
        top: 100px;
    }

    .categories h2 {
        color: var(--primary-color);
        font-size: 1.3rem;
        margin-bottom: 1.2rem;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .categories h2::after {
        content: '\f107';
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        transition: transform 0.3s ease;
    }

    .categories h2.active::after {
        transform: rotate(180deg);
    }

    .category-list {
        list-style: none;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
    }

    .category-list.show {
        max-height: 500px;
        transition: max-height 0.5s ease-in;
    }

    .category-list li {
        margin-bottom: 0.6rem;
    }

    .category-list a {
        color: var(--dark-color);
        text-decoration: none;
        font-size: 1rem;
        transition: color 0.2s;
        display: block;
        padding: 0.4rem 0;
    }

    .category-list a:hover,
    .category-list a.active {
        color: var(--primary-color);
        font-weight: 500;
    }

    /* Products Grid */
    .products-grid {
        flex: 1;
    }

    .product-category {
        margin-bottom: 2.5rem;
    }

    .product-category h2 {
        color: var(--dark-color);
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 2px solid var(--primary-color);
    }

    .product-row {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start;
        gap: 15px;
        margin-bottom: 25px;
    }

    .products-section .product-card {
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        padding: 12px;
        text-align: center;
        transition: transform 0.3s ease;
        width: calc(25% - 12px);
        margin: 0;
    }

    .products-section .product-card img {
        width: 100%;
        height: 180px;
        object-fit: contain;
        margin-bottom: 8px;
    }

    .products-section .product-card h3 {
        font-size: 0.95rem;
        margin: 8px 0;
        color: #333;
    }

    .products-section .product-card .description {
        font-size: 0.85rem;
        color: #666;
        margin-bottom: 8px;
        height: 36px;
        overflow: hidden;
    }

    .products-section .product-card .price {
        font-size: 1rem;
        color: #ff6b6b;
        font-weight: bold;
        margin: 8px 0;
    }

    @media (max-width: 1200px) {
        .products-section .product-card {
            width: calc(33.333% - 12px);
        }
    }

    @media (max-width: 992px) {
        .container {
            flex-direction: column;
        }
        .categories {
            width: 100%;
            position: static;
        }
        .products-section .product-card {
            width: calc(50% - 12px);
        }
    }

    @media (max-width: 576px) {
        .products-section .product-card {
            width: calc(100% - 12px);
        }
    }

    /* Policy Content Section */
    .policy-content {
        padding: 4rem 5%;
        background-color: var(--light-color);
    }

    .policy-container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .policy-section {
        margin-bottom: 4rem;
        background: white;
        border-radius: 15px;
        padding: 2.5rem;
        box-shadow: 0 5px 20px rgba(0,0,0,0.08);
        border-left: 5px solid var(--primary-color);
    }

    .policy-section h2 {
        color: var(--primary-color);
        font-size: 2.2rem;
        margin-bottom: 1.5rem;
        font-weight: 700;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 1rem;
    }

    .policy-section h3 {
        color: var(--dark-color);
        font-size: 1.5rem;
        margin: 2rem 0 1rem 0;
        font-weight: 600;
    }

    .policy-section p {
        color: #555;
        line-height: 1.8;
        margin-bottom: 1rem;
        font-size: 1.1rem;
    }

    .policy-section ul {
        margin: 1rem 0;
        padding-left: 2rem;
    }

    .policy-section li {
        color: #555;
        line-height: 1.8;
        margin-bottom: 0.8rem;
        font-size: 1.1rem;
    }

    .policy-section .highlight {
        background: linear-gradient(135deg, #fff5f0 0%, #ffe8d6 100%);
        padding: 1.5rem;
        border-radius: 10px;
        border-left: 4px solid var(--primary-color);
        margin: 1.5rem 0;
    }

    .policy-section .contact-info {
        background: #f8f9fa;
        padding: 1.5rem;
        border-radius: 10px;
        margin: 1.5rem 0;
    }

    .policy-section .contact-info h4 {
        color: var(--primary-color);
        margin-bottom: 1rem;
        font-weight: 600;
    }

    /* Benefits Section */
    .benefits {
        padding: 5rem 5%;
        background-color: var(--light-color);
    }

    .benefits h2 {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 3rem;
    }

    .benefits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .benefit-card {
        text-align: center;
        padding: 2rem;
    }

    .benefit-card i {
        font-size: 3rem;
        color: var(--primary-color);
        margin-bottom: 1rem;
    }

    .benefit-card h3 {
        margin-bottom: 1rem;
    }

    /* Footer */
    footer {
        background-color: var(--dark-color);
        color: var(--light-color);
        padding: 4rem 5% 2rem;
    }

    .footer-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .footer-section h3 {
        margin-bottom: 1.5rem;
        color: var(--primary-color);
    }

    .social-links {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
    }

    .social-links a {
        color: var(--light-color);
        font-size: 1.5rem;
        transition: color 0.3s ease;
    }

    .social-links a:hover {
        color: var(--primary-color);
    }

    .footer-bottom {
        text-align: center;
        margin-top: 3rem;
        padding-top: 2rem;
        border-top: 1px solid rgba(255,255,255,0.1);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .nav-links {
            display: none;
        }
        
        .hero {
            height: 50vh;
            min-height: 300px;
        }
        
        .hero h1 {
            font-size: 2rem;
        }
        
        .hero p {
            font-size: 1rem;
        }
        
        .policy-section {
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .policy-section h2 {
            font-size: 1.8rem;
        }
        
        .policy-section h3 {
            font-size: 1.3rem;
        }
        
        .policy-section p,
        .policy-section li {
            font-size: 1rem;
        }
        
        .cta-button {
            padding: 15px 30px;
            font-size: 1rem;
        }
        
        .product-grid {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }
    }

    /* News Section */
    .news-section {
        padding: 4rem 5%;
        background-color: var(--light-color);
    }
    .news-section h2 {
        text-align: center;
        font-size: 2.2rem;
        margin-bottom: 2.5rem;
        color: var(--primary-color);
    }
    .news-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2rem;
        max-width: 1000px;
        margin: 0 auto;
    }
    @media (max-width: 900px) {
        .news-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }
    @media (max-width: 600px) {
        .news-grid {
            grid-template-columns: 1fr;
        }
    }
    .news-grid.news-slider {
        min-height: 420px;
        /* Đảm bảo chiều cao tối thiểu cho grid slider, có thể điều chỉnh nếu cần */
    }
    .news-card {
        height: 100%;
        min-height: 380px;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        background: var(--gray-color);
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        overflow: hidden;
        transition: transform 0.2s, box-shadow 0.2s;
    }
    .news-card a {
        display: flex;
        flex-direction: column;
        height: 100%;
    }
    .news-card img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        flex-shrink: 0;
    }
    .news-card h3 {
        font-size: 1.3rem;
        margin: 1rem 1.2rem 0.5rem 1.2rem;
        color: var(--dark-color);
        min-height: 48px;
    }
    .news-card p {
        margin: 0 1.2rem 1rem 1.2rem;
        color: #555;
        min-height: 48px;
        flex: 1;
    }
    .read-more {
        display: inline-block;
        margin: 0 1.2rem 1.2rem 1.2rem;
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
        transition: color 0.2s;
        align-self: flex-start;
        margin-top: auto;
    }
    .read-more:hover {
        color: var(--secondary-color);
    }
    .news-card:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 8px 24px rgba(255,107,0,0.12);
    }

    /* Contact Section */
    .contact-section {
        padding: 4rem 5%;
        background-color: var(--gray-color);
    }
    .contact-section h2 {
        text-align: center;
        font-size: 2.2rem;
        margin-bottom: 2.5rem;
        color: var(--primary-color);
    }
    .contact-form {
        max-width: 500px;
        margin: 0 auto;
        background: var(--light-color);
        padding: 2rem 2.5rem;
        border-radius: 15px;
        box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    }
    .form-group {
        margin-bottom: 1.5rem;
    }
    .form-group label {
        display: block;
        margin-bottom: 0.5rem;
        color: var(--dark-color);
        font-weight: 500;
    }
    .form-group input,
    .form-group textarea {
        width: 100%;
        padding: 0.8rem 1rem;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 1rem;
        background: #fafafa;
        transition: border 0.2s;
    }
    .form-group input:focus,
    .form-group textarea:focus {
        border: 1.5px solid var(--primary-color);
        outline: none;
    }
    .submit-button {
        display: block;
        width: 100%;
        padding: 0.9rem;
        background: var(--primary-color);
        color: var(--light-color);
        border: none;
        border-radius: 8px;
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.2s;
        margin-top: 0.5rem;
    }
    .submit-button:hover {
        background: var(--secondary-color);
    }

    .contact-container {
        display: flex;
        flex-wrap: wrap;
        gap: 2rem;
        max-width: 1000px;
        margin: 0 auto;
    }
    .contact-info {
        flex: 1;
        min-width: 300px;
        background: var(--light-color);
        padding: 2rem;
        border-radius: 15px;
        box-shadow: 0 4px 16px rgba(0,0,0,0.08);
    }
    .contact-info h3 {
        color: var(--primary-color);
        margin-bottom: 1rem;
        font-size: 1.5rem;
    }
    .contact-info p {
        margin-bottom: 0.8rem;
        color: var(--dark-color);
    }
    .contact-info i {
        margin-right: 0.5rem;
        color: var(--primary-color);
    }
    .contact-info .social-links {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
    }
    .contact-info .social-links a {
        color: var(--dark-color);
        font-size: 1.5rem;
        transition: color 0.3s ease;
    }
    .contact-info .social-links a:hover {
        color: var(--primary-color);
    }

    .newsletter-form {
        display: flex;
        gap: 0.5rem;
        margin-top: 1rem;
    }
    .newsletter-form input {
        flex: 1;
        padding: 0.8rem;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 1rem;
    }
    .newsletter-form button {
        padding: 0.8rem 1.5rem;
        background: var(--primary-color);
        color: var(--light-color);
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.2s;
    }
    .newsletter-form button:hover {
        background: var(--secondary-color);
    }

    .search-container {
        display: flex;
        align-items: center;
        margin-left: 1.5rem;
        position: relative;
    }
    .search-input {
        padding: 0.6rem 1rem;
        border: 1px solid rgba(255,255,255,0.2);
        border-radius: 20px;
        font-size: 0.95rem;
        width: 180px;
        transition: width 0.3s ease;
        background-color: rgba(255,255,255,0.1);
        color: #ffffff;
    }
    .search-input:focus {
        outline: none;
        border-color: var(--primary-color);
        background-color: rgba(255,255,255,0.15);
    }
    .search-input::placeholder {
        color: rgba(255,255,255,0.7);
    }
    .search-button {
        background: var(--primary-color);
        color: var(--light-color);
        border: none;
        border-radius: 50%;
        width: 38px;
        height: 38px;
        margin-left: 0.6rem;
        cursor: pointer;
        transition: background 0.2s;
        font-size: 0.95rem;
    }
    .search-button:hover {
        background: var(--primary-color);
    }

    .btn-cart, .btn-login {
        margin-left: 1rem;
        color: var(--dark-color);
        font-size: 1.2rem;
        text-decoration: none;
    }

    /* Individual Buy Buttons */
    .buy-button {
        background-color: #FF6B00;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
        font-weight: 500;
    }

    .buy-button:hover {
        background-color: #FF8533;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(255, 107, 0, 0.2);
    }

    /* Whey Protein Buttons */
    .whey-gold {
        background-color: #FF6B00;
    }

    .whey-isolate {
        background-color: #FF6B00;
    }

    .whey-hydro {
        background-color: #FF6B00;
    }

    .whey-blend {
        background-color: #FF6B00;
    }

    /* BCAA Buttons */
    .bcaa-211 {
        background-color: #FF6B00;
    }

    .bcaa-411 {
        background-color: #FF6B00;
    }

    .bcaa-811 {
        background-color: #FF6B00;
    }

    .bcaa-energy {
        background-color: #FF6B00;
    }

    /* Pre-workout Buttons */
    .pre-explosion {
        background-color: #FF6B00;
    }

    .pre-pump {
        background-color: #FF6B00;
    }

    .pre-focus {
        background-color: #FF6B00;
    }

    .pre-endurance {
        background-color: #FF6B00;
    }

    /* Vitamin Buttons */
    .vitamin-d3 {
        background-color: #FF6B00;
    }

    .omega-3 {
        background-color: #FF6B00;
    }

    .vitamin-c {
        background-color: #FF6B00;
    }

    .magnesium {
        background-color: #FF6B00;
    }

    /* Weight Loss Buttons */
    .l-carnitine {
        background-color: #FF6B00;
    }

    .cla {
        background-color: #FF6B00;
    }

    .green-tea {
        background-color: #FF6B00;
    }

    .fat-burner {
        background-color: #FF6B00;
    }

    /* Featured Products Button */
    .featured-products .buy-button {
        background-color: #FF6B00;
        color: white;
        border: none;
        padding: 12px 20px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        width: 100%;
        font-weight: 600;
        font-size: 1.1rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-top: 10px;
    }

    .featured-products .buy-button:hover {
        background-color: #FF8533;
        transform: translateY(-3px);
        box-shadow: 0 6px 12px rgba(255, 107, 0, 0.3);
    }

    /* Individual Featured Product Buttons */
    .featured-whey-gold,
    .featured-bcaa,
    .featured-pre,
    .featured-vitamin,
    .featured-carnitine,
    .featured-whey-iso {
        background-color: #FF6B00;
    }

    /* Featured Products Card Adjustments */
    .featured-products .product-card {
        padding-bottom: 20px;
    }

    .featured-products .product-card img {
        height: 250px;
        margin-bottom: 15px;
    }

    .featured-products .product-card h3 {
        font-size: 1.2rem;
        margin-bottom: 10px;
    }

    .featured-products .product-card .price {
        font-size: 1.3rem;
        margin-bottom: 15px;
        color: #FF6B00;
        font-weight: bold;
    }

    /* Sale Banner Section */
    .sale-banner {
        background: linear-gradient(135deg, #ff4e50, #f9d423);
        padding: 60px 20px;
        text-align: center;
        color: white;
        margin: 40px 0;
    }

    .sale-content {
        max-width: 800px;
        margin: 0 auto;
    }

    .sale-banner h2 {
        font-size: 2.5em;
        margin-bottom: 20px;
        text-transform: uppercase;
        font-weight: bold;
    }

    .sale-banner p {
        font-size: 1.2em;
        margin-bottom: 30px;
    }

    .countdown {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 30px 0;
    }

    .countdown-item {
        background: rgba(255, 255, 255, 0.2);
        padding: 15px;
        border-radius: 10px;
        min-width: 80px;
    }

    .countdown-item span:first-child {
        font-size: 2em;
        font-weight: bold;
        display: block;
    }

    .countdown-item span:last-child {
        font-size: 0.9em;
        text-transform: uppercase;
    }

    /* Discounted Products Section */
    .discounted-products {
        padding: 40px 5%;
        background: var(--gray-color);
    }

    .discounted-products h2 {
        text-align: center;
        margin-bottom: 40px;
        font-size: 2.5rem;
        color: var(--dark-color);
    }

    .discounted-products .product-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .discounted-products .product-card {
        background: #fff;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
        display: flex;
        flex-direction: column;
        padding-bottom: 20px;
    }

    .discounted-products .product-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }

    .discounted-products .product-card img {
        width: 100%;
        height: 250px;
        object-fit: contain;
        background-color: #f8f8f8;
        padding: 20px;
        transition: transform 0.3s ease;
        margin-bottom: 15px;
    }

    .discounted-products .product-card:hover img {
        transform: scale(1.05);
    }

    .discounted-products .product-card h3 {
        padding: 0 1.5rem;
        font-size: 1.2rem;
        color: var(--dark-color);
        font-weight: 600;
        margin-bottom: 10px;
    }

    .discounted-products .product-card .original-price {
        text-decoration: line-through;
        color: #999;
        font-size: 1rem;
        margin: 5px 1.5rem;
    }

    .discounted-products .product-card .price {
        color: #ff4e50;
        font-weight: bold;
        font-size: 1.3rem;
        margin: 5px 1.5rem 15px;
    }

    .discounted-products .product-card .buy-button {
        margin: 0 1.5rem;
        padding: 12px 20px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .discounted-products .product-card .buy-button:hover {
        background: var(--secondary-color);
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(255, 107, 0, 0.2);
    }

    .discounted-products .sale-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: #ff4e50;
        color: white;
        padding: 8px 15px;
        border-radius: 25px;
        font-weight: bold;
        font-size: 1rem;
        box-shadow: 0 2px 5px rgba(255, 78, 80, 0.3);
    }

    @media (max-width: 768px) {
        .discounted-products .product-grid {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }
        
        .discounted-products .product-card img {
            height: 200px;
        }
        
        .discounted-products .product-card h3 {
            font-size: 1.1rem;
        }
        
        .discounted-products .product-card .price {
            font-size: 1.2rem;
        }
        
        .discounted-products .product-card .buy-button {
            font-size: 1rem;
            padding: 10px 15px;
        }
    }

    /* Brands Section */
    .brands-section {
        padding: 60px 5%;
        background: linear-gradient(135deg, #f6f8fa 0%, #e9ecef 100%);
    }

    .brands-section h2 {
        text-align: center;
        margin-bottom: 40px;
        font-size: 2.5rem;
        color: var(--dark-color);
        position: relative;
        padding-bottom: 15px;
    }

    .brands-section h2::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 3px;
        background: var(--primary-color);
    }

    .brands-container {
        max-width: 1200px;
        margin: 0 auto;
    }

    .brand-row {
        display: flex;
        justify-content: space-between;
        gap: 30px;
        margin-bottom: 30px;
    }

    .brand-item {
        flex: 1;
        background: white;
        border-radius: 20px;
        padding: 30px;
        display: flex;
        align-items: center;
        gap: 25px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .brand-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background: var(--primary-color);
        transition: width 0.3s ease;
    }

    .brand-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0,0,0,0.1);
    }

    .brand-item:hover::before {
        width: 100%;
        opacity: 0.1;
    }

    .brand-logo {
        flex-shrink: 0;
        width: 120px;
        height: 120px;
        background: #f8f9fa;
        border-radius: 15px;
        padding: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: transform 0.3s ease;
    }

    .brand-item:hover .brand-logo {
        transform: scale(1.1);
    }

    .brand-logo img {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }

    .brand-info {
        flex: 1;
    }

    .brand-info h3 {
        color: var(--dark-color);
        font-size: 1.5rem;
        margin-bottom: 10px;
        font-weight: 600;
    }

    .brand-info p {
        color: #666;
        font-size: 1.1rem;
        line-height: 1.5;
    }

    @media (max-width: 992px) {
        .brand-row {
            flex-direction: column;
            gap: 20px;
        }
        
        .brand-item {
            padding: 20px;
        }
        
        .brand-logo {
            width: 100px;
            height: 100px;
        }
        
        .brand-info h3 {
            font-size: 1.3rem;
        }
        
        .brand-info p {
            font-size: 1rem;
        }
    }

    @media (max-width: 576px) {
        .brands-section {
            padding: 40px 5%;
        }
        
        .brands-section h2 {
            font-size: 2rem;
        }
        
        .brand-item {
            flex-direction: column;
            text-align: center;
            padding: 20px;
        }
        
        .brand-logo {
            margin: 0 auto;
        }
    }

    /* Voucher Section */
    .voucher-section {
        padding: 60px 5%;
        background: linear-gradient(135deg, #fff5f5 0%, #fff0f6 100%);
    }

    .voucher-section h2 {
        text-align: center;
        margin-bottom: 40px;
        font-size: 2.5rem;
        color: var(--dark-color);
        position: relative;
        padding-bottom: 15px;
    }

    .voucher-section h2::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 3px;
        background: var(--primary-color);
    }

    .voucher-container {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .voucher-card {
        display: flex;
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
        position: relative;
    }

    .voucher-card:hover {
        transform: translateY(-5px);
    }

    .voucher-left {
        background: linear-gradient(135deg, #ff4e50 0%, #f9d423 100%);
        padding: 30px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-width: 200px;
        color: white;
    }

    .discount {
        font-size: 3rem;
        font-weight: bold;
        line-height: 1;
    }

    .discount-text {
        font-size: 1.2rem;
        font-weight: 500;
        margin-top: 5px;
    }

    .voucher-right {
        flex: 1;
        padding: 30px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .voucher-right h3 {
        color: var(--primary-color);
        font-size: 1.5rem;
        margin-bottom: 10px;
    }

    .voucher-right p {
        color: #666;
        font-size: 1.1rem;
        margin-bottom: 15px;
    }

    .voucher-info {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
    }

    .voucher-info span {
        display: flex;
        align-items: center;
        gap: 5px;
        color: #888;
        font-size: 0.9rem;
    }

    .voucher-info i {
        color: var(--primary-color);
    }

    .copy-button {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 25px;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        align-self: flex-start;
    }

    .copy-button:hover {
        background: var(--secondary-color);
        transform: translateY(-2px);
    }

    @media (max-width: 768px) {
        .voucher-card {
            flex-direction: column;
        }
        
        .voucher-left {
            min-width: 100%;
            padding: 20px;
        }
        
        .voucher-right {
            padding: 20px;
        }
        
        .voucher-info {
            flex-direction: column;
            gap: 10px;
        }
        
        .copy-button {
            width: 100%;
        }
    }

    /* SweetAlert2 Custom Styles */
    .swal2-container {
        z-index: 9999 !important;
    }

    .swal2-popup {
        z-index: 10000 !important;
    }

    .swal2-backdrop-show {
        z-index: 9998 !important;
    }

    /* Modal Styles */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .modal.show {
        display: flex;
        opacity: 1;
        align-items: center;
        justify-content: center;
    }

    .modal-content {
        background-color: var(--light-color);
        border-radius: 12px;
        width: 90%;
        max-width: 400px;
        position: relative;
        transform: translateY(-20px);
        transition: transform 0.3s ease;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    .modal.show .modal-content {
        transform: translateY(0);
    }

    .close-modal {
        position: absolute;
        right: 15px;
        top: 12px;
        font-size: 20px;
        cursor: pointer;
        color: #666;
        transition: color 0.3s ease;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
    }

    .close-modal:hover {
        color: var(--primary-color);
        background-color: rgba(0,0,0,0.05);
    }

    .modal-header {
        padding: 15px 20px;
        border-bottom: 1px solid #eee;
        text-align: center;
    }

    .modal-header h2 {
        color: var(--dark-color);
        font-size: 1.5rem;
        margin: 0;
        font-weight: 600;
    }

    .modal-body {
        padding: 20px;
    }

    .modal-body .form-group {
        margin-bottom: 15px;
    }

    .modal-body .form-group label {
        display: block;
        margin-bottom: 5px;
        color: #555;
        font-size: 0.9rem;
    }

    .modal-body .form-group input {
        width: 100%;
        padding: 10px 12px;
        border: 1px solid #ddd;
        border-radius: 8px;
        font-size: 0.95rem;
        transition: border-color 0.3s ease;
    }

    .modal-body .form-group input:focus {
        border-color: var(--primary-color);
        outline: none;
    }

    .modal-footer {
        padding: 12px 20px;
        border-top: 1px solid #eee;
        text-align: center;
        font-size: 0.9rem;
    }

    .modal-footer a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
    }

    .modal-footer a:hover {
        text-decoration: underline;
    }

    .form-options {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 12px 0;
        font-size: 0.85rem;
    }

    .form-options label {
        display: flex;
        align-items: center;
        gap: 5px;
        color: #666;
    }

    .form-options a {
        color: var(--primary-color);
        text-decoration: none;
    }

    .form-options a:hover {
        text-decoration: underline;
    }

    .social-login {
        margin-top: 15px;
        text-align: center;
    }

    .social-login p {
        color: #666;
        margin-bottom: 12px;
        position: relative;
        font-size: 0.9rem;
    }

    .social-login p::before,
    .social-login p::after {
        content: '';
        position: absolute;
        top: 50%;
        width: 25%;
        height: 1px;
        background-color: #ddd;
    }

    .social-login p::before {
        left: 0;
    }

    .social-login p::after {
        right: 0;
    }

    .google-login {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: white;
        color: #333;
        font-size: 0.95rem;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .google-login:hover {
        background-color: #f8f8f8;
        border-color: #ccc;
    }

    .google-login img {
        width: 18px;
        height: 18px;
    }

    .submit-button {
        width: 100%;
        padding: 12px;
        background: var(--primary-color);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: background 0.3s ease;
    }

    .submit-button:hover {
        background: var(--secondary-color);
    }

    @media (max-width: 576px) {
        .modal-content {
            width: 95%;
            margin: 10px;
        }

        .form-options {
            flex-direction: column;
            gap: 8px;
            align-items: flex-start;
        }

        .modal-header h2 {
            font-size: 1.3rem;
        }
    }

    .cart-notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #4CAF50;
        color: white;
        padding: 1rem 2rem;
        border-radius: 4px;
        animation: slideIn 0.3s ease-out;
        z-index: 1000;
    }

    @keyframes slideIn {
        from {
            transform: translateX(100%);
            opacity: 0;
        }
        to {
            transform: translateX(0);
            opacity: 1;
        }
    }

    .product-buttons {
        display: flex;
        gap: 10px;
        padding: 0 1.5rem;
    }

    .btn-add-cart {
        flex: 1;
        padding: 10px;
        background-color: white;
        color: var(--primary-color);
        border: 2px solid var(--primary-color);
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
    }

    .btn-add-cart:hover {
        background-color: var(--primary-color);
        color: white;
        transform: translateY(-2px);
    }

    .btn-buy-now {
        flex: 1;
        padding: 10px;
        background-color: var(--primary-color);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
    }

    .btn-buy-now:hover {
        background-color: var(--secondary-color);
        transform: translateY(-2px);
    }

    .news-pagination .news-page-btn {
        background: #fff;
        border: 2px solid #FF6B00;
        color: #FF6B00;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.2s, color 0.2s;
    }
    .news-pagination .news-page-btn.active {
        background: #FF6B00;
        color: #fff;
    }
    .news-next-btn:hover {
        background: #FF8533 !important;
    }
    @media (max-width: 900px) {
        .news-next-btn { right: -20px !important; }
    }
    @media (max-width: 600px) {
        .news-next-btn { right: 0 !important; top: 100%; transform: translateY(0); margin-top: 10px; }
        .news-pagination { margin-bottom: 20px; }
    }
</style>

</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="policy.html">
                    <img src="images/logo.png.png" alt="LavaWhey Logo">
                </a>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Trang chủ</a></li>
                <li><a href="member.html">Thành viên</a></li>
                <li><a href="products.html">Sản phẩm</a></li>
                <li><a href="news.html">Tin tức</a></li>
                <li><a href="about.html">Giới thiệu</a></li>
                <li><a href="contact.html">Liên hệ</a></li>
                <li><a href="policy.html" class="active">Chính sách</a></li>
            </ul>
            <div class="nav-buttons">
                <div class="search-container">
                <input type="text" id="search-input" placeholder="Tìm kiếm sản phẩm..." class="search-input">
                <div id="search-results"></div>
                <button class="search-button"><i class="fas fa-search"></i></button>
                <div class="cart-container">
                    <div class="btn-cart">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count">0</span>
                    </div>
                    <div class="cart-dropdown">
                        <div class="cart-header">
                            <h3>
                                <i class="fas fa-shopping-cart"></i>
                                Giỏ hàng
                                <span class="cart-count-badge">0 sản phẩm</span>
                            </h3>
                        </div>
                        <div class="cart-items">
                            <!-- Cart items will be dynamically added here -->
                        </div>
                        <div class="cart-summary">
                            <div class="cart-summary-row">
                                <span>Tạm tính:</span>
                                <span>0₫</span>
                            </div>
                            <div class="cart-summary-row">
                                <span>Phí vận chuyển:</span>
                                <span>0₫</span>
                            </div>
                            <div class="cart-summary-row total">
                                <span>Tổng cộng:</span>
                                <span>0₫</span>
                            </div>
                        </div>
                        <div class="cart-buttons">
                            <button class="btn-continue">Tiếp tục mua</button>
                            <button class="btn-checkout">Thanh toán</button>
                        </div>
                        <div class="empty-cart" style="display: none;">
                            <i class="fas fa-shopping-cart"></i>
                            <p>Giỏ hàng của bạn đang trống</p>
                            <a href="products.html" class="btn-shop">Mua sắm ngay</a>
                        </div>
                    </div>
                </div>
                
                <a href="#" class="btn-login">Đăng nhập</a>
            </div>
        </nav>
    </header>
    
    
    
    <br>
    <br>
    <br>
    <br>
    <br>
    <!-- Policy Content -->
    <section class="policy-content">
        <div class="policy-container">
            
            <!-- Chính sách dữ liệu -->
            <div class="policy-section" id="data-policy">
                <h2>Chính sách dữ liệu</h2>
                
                <h3>1. Thông tin chúng tôi thu thập</h3>
                <p>LavaWhey cam kết bảo vệ quyền riêng tư của khách hàng. Chúng tôi thu thập các thông tin sau:</p>
                <ul>
                    <li><strong>Thông tin cá nhân:</strong> Tên, địa chỉ email, số điện thoại, địa chỉ giao hàng</li>
                    <li><strong>Thông tin giao dịch:</strong> Lịch sử mua hàng, sản phẩm đã xem, giỏ hàng</li>
                    <li><strong>Thông tin kỹ thuật:</strong> IP address, trình duyệt, thiết bị truy cập</li>
                    <li><strong>Cookies:</strong> Để cải thiện trải nghiệm người dùng và phân tích website</li>
                </ul>

                <h3>2. Mục đích sử dụng thông tin</h3>
                <p>Thông tin thu thập được sử dụng cho các mục đích:</p>
                <ul>
                    <li>Xử lý đơn hàng và giao hàng</li>
                    <li>Cung cấp dịch vụ khách hàng</li>
                    <li>Gửi thông tin khuyến mãi và cập nhật sản phẩm</li>
                    <li>Cải thiện website và trải nghiệm người dùng</li>
                    <li>Phân tích xu hướng mua hàng</li>
                </ul>

                <div class="highlight">
                    <h4>Cam kết bảo mật</h4>
                    <p>Chúng tôi cam kết không bán, trao đổi hoặc chuyển giao thông tin cá nhân của bạn cho bên thứ ba mà không có sự đồng ý của bạn, trừ khi được yêu cầu bởi pháp luật.</p>
                </div>

                <h3>3. Quyền của khách hàng</h3>
                <p>Bạn có quyền:</p>
                <ul>
                    <li>Truy cập và cập nhật thông tin cá nhân</li>
                    <li>Yêu cầu xóa thông tin cá nhân</li>
                    <li>Từ chối nhận email marketing</li>
                    <li>Khiếu nại về việc xử lý dữ liệu</li>
                </ul>

                <div class="contact-info">
                    <h4>Liên hệ về chính sách dữ liệu</h4>
                    <p><strong>Email:</strong> privacy@lavawhey.com</p>
                    <p><strong>Điện thoại:</strong> 0847 788 360</p>
                    <p><strong>Địa chỉ:</strong> Hẻm 112/12, Đường 3/2, Hưng Lợi, Ninh Kiều, TP.Cần Thơ</p>
                </div>
            </div>

            <!-- Chính sách bảo mật -->
            <div class="policy-section" id="privacy-policy">
                <h2>Chính sách bảo mật</h2>
                
                <h3>1. Bảo mật thông tin</h3>
                <p>LavaWhey áp dụng các biện pháp bảo mật tiên tiến để bảo vệ thông tin của khách hàng:</p>
                <ul>
                    <li><strong>Mã hóa SSL:</strong> Tất cả dữ liệu được mã hóa khi truyền tải</li>
                    <li><strong>Bảo mật thanh toán:</strong> Sử dụng cổng thanh toán an toàn</li>
                    <li><strong>Kiểm soát truy cập:</strong> Hạn chế quyền truy cập vào dữ liệu</li>
                    <li><strong>Giám sát liên tục:</strong> Theo dõi và phát hiện hoạt động bất thường</li>
                </ul>

                <h3>2. Bảo vệ mật khẩu</h3>
                <p>Chúng tôi khuyến nghị khách hàng:</p>
                <ul>
                    <li>Sử dụng mật khẩu mạnh (ít nhất 8 ký tự, bao gồm chữ hoa, chữ thường, số)</li>
                    <li>Không chia sẻ mật khẩu với người khác</li>
                    <li>Thay đổi mật khẩu định kỳ</li>
                    <li>Đăng xuất sau khi sử dụng xong</li>
                </ul>

                <h3>3. Bảo mật giao dịch</h3>
                <p>Mọi giao dịch thanh toán đều được bảo vệ:</p>
                <ul>
                    <li>Xác thực 3D Secure cho thẻ tín dụng</li>
                    <li>Mã hóa thông tin thẻ</li>
                    <li>Xác minh địa chỉ giao hàng</li>
                    <li>Ghi nhận đầy đủ lịch sử giao dịch</li>
                </ul>

                <div class="highlight">
                    <h4>Thông báo bảo mật</h4>
                    <p>Nếu bạn phát hiện hoạt động bất thường hoặc nghi ngờ vi phạm bảo mật, vui lòng liên hệ ngay với chúng tôi qua hotline 0847 788 360 hoặc email security@lavawhey.com</p>
                </div>
            </div>

            <!-- Chính sách kinh doanh -->
            <div class="policy-section" id="business-policy">
                <h2>Chính sách kinh doanh</h2>
                
                <h3>1. Nguyên tắc kinh doanh</h3>
                <p>LavaWhey hoạt động dựa trên các nguyên tắc:</p>
                <ul>
                    <li><strong>Chất lượng hàng đầu:</strong> Chỉ cung cấp sản phẩm chính hãng, có nguồn gốc rõ ràng</li>
                    <li><strong>Minh bạch:</strong> Công khai thông tin sản phẩm, giá cả và chính sách</li>
                    <li><strong>Trách nhiệm:</strong> Đảm bảo sức khỏe và an toàn cho khách hàng</li>
                    <li><strong>Phát triển bền vững:</strong> Tôn trọng môi trường và cộng đồng</li>
                </ul>

                <h3>2. Tiêu chuẩn sản phẩm</h3>
                <p>Tất cả sản phẩm của chúng tôi đáp ứng:</p>
                <ul>
                    <li>Chứng nhận FDA, GMP, ISO 22000</li>
                    <li>Nguồn gốc xuất xứ rõ ràng</li>
                    <li>Hạn sử dụng còn ít nhất 6 tháng</li>
                    <li>Bao bì nguyên vẹn, không bị rách móp</li>
                    <li>Thông tin nhãn mác đầy đủ, rõ ràng</li>
                </ul>

                <h3>3. Chính sách giá cả</h3>
                <p>Chúng tôi cam kết:</p>
                <ul>
                    <li>Công khai giá cả, không có phí ẩn</li>
                    <li>Giá cạnh tranh trên thị trường</li>
                    <li>Áp dụng chính sách giảm giá minh bạch</li>
                    <li>Không tăng giá đột ngột</li>
                </ul>

                <h3>4. Đối tác và nhà cung cấp</h3>
                <p>Chúng tôi chỉ hợp tác với:</p>
                <ul>
                    <li>Nhà phân phối chính thức của các thương hiệu</li>
                    <li>Đối tác có chứng nhận chất lượng</li>
                    <li>Nhà cung cấp có uy tín lâu năm</li>
                    <li>Đối tác tuân thủ quy định pháp luật</li>
                </ul>

                <div class="highlight">
                    <h4>Cam kết chất lượng</h4>
                    <p>LavaWhey cam kết 100% sản phẩm chính hãng. Nếu phát hiện hàng giả, hàng nhái, chúng tôi sẽ bồi thường gấp 10 lần giá trị sản phẩm.</p>
                </div>
            </div>

            <!-- Chính sách vận chuyển -->
            <div class="policy-section" id="shipping-policy">
                <h2>Chính sách vận chuyển</h2>
                
                <h3>1. Phạm vi giao hàng</h3>
                <p>Chúng tôi giao hàng toàn quốc với các khu vực:</p>
                <ul>
                    <li><strong>TP. Cần Thơ:</strong> Giao hàng trong ngày (đơn hàng trước 14h)</li>
                    <li><strong>Đồng bằng sông Cửu Long:</strong> 1-2 ngày làm việc</li>
                    <li><strong>TP. Hồ Chí Minh:</strong> 1-2 ngày làm việc</li>
                    <li><strong>Các tỉnh miền Nam:</strong> 2-3 ngày làm việc</li>
                    <li><strong>Các tỉnh miền Trung:</strong> 3-4 ngày làm việc</li>
                    <li><strong>Các tỉnh miền Bắc:</strong> 4-5 ngày làm việc</li>
                </ul>

                <h3>2. Phí vận chuyển</h3>
                <div class="highlight">
                    <h4>Miễn phí vận chuyển</h4>
                    <ul>
                        <li>Đơn hàng từ 500.000đ trở lên</li>
                        <li>Khách hàng VIP (mua từ 5 lần trở lên)</li>
                        <li>Đơn hàng trong phạm vi 5km từ cửa hàng</li>
                    </ul>
                </div>
                <p><strong>Phí vận chuyển tiêu chuẩn:</strong></p>
                <ul>
                    <li>TP. Cần Thơ: 15.000đ - 30.000đ</li>
                    <li>Đồng bằng sông Cửu Long: 30.000đ - 50.000đ</li>
                    <li>TP. Hồ Chí Minh: 40.000đ - 60.000đ</li>
                    <li>Các tỉnh khác: 50.000đ - 100.000đ</li>
                </ul>

                <h3>3. Quy trình giao hàng</h3>
                <ol>
                    <li><strong>Xác nhận đơn hàng:</strong> Trong vòng 2 giờ sau khi đặt hàng</li>
                    <li><strong>Chuẩn bị hàng:</strong> Kiểm tra chất lượng và đóng gói</li>
                    <li><strong>Giao hàng:</strong> Theo thời gian đã hẹn</li>
                    <li><strong>Xác nhận:</strong> Khách hàng ký nhận và thanh toán</li>
                </ol>

                <h3>4. Dịch vụ giao hàng</h3>
                <p>Chúng tôi cung cấp các dịch vụ:</p>
                <ul>
                    <li><strong>Giao hàng tiêu chuẩn:</strong> Trong giờ hành chính</li>
                    <li><strong>Giao hàng nhanh:</strong> Trong vòng 2-4 giờ (phụ phí 20.000đ)</li>
                    <li><strong>Giao hàng theo giờ:</strong> Khách hàng chọn thời gian</li>
                    <li><strong>Giao hàng cuối tuần:</strong> Thứ 7, Chủ nhật</li>
                </ul>

                <div class="contact-info">
                    <h4>Thông tin vận chuyển</h4>
                    <p><strong>Hotline:</strong> 0847 788 360</p>
                    <p><strong>Email:</strong> shipping@lavawhey.com</p>
                    <p><strong>Giờ làm việc:</strong> 7:00 - 22:00 (Thứ 2 - Chủ nhật)</p>
                </div>
            </div>

            <!-- Chính sách bảo hành -->
            <div class="policy-section" id="warranty-policy">
                <h2>Chính sách bảo hành</h2>
                
                <h3>1. Điều kiện bảo hành</h3>
                <p>Sản phẩm được bảo hành khi:</p>
                <ul>
                    <li>Còn trong thời hạn bảo hành</li>
                    <li>Có tem bảo hành nguyên vẹn</li>
                    <li>Không bị hư hỏng do sử dụng sai cách</li>
                    <li>Không bị ẩm mốc, biến chất</li>
                    <li>Có hóa đơn mua hàng hợp lệ</li>
                </ul>

                <h3>2. Thời hạn bảo hành</h3>
                <p>Tùy theo loại sản phẩm:</p>
                <ul>
                    <li><strong>Whey Protein:</strong> 12 tháng từ ngày sản xuất</li>
                    <li><strong>BCAA, Pre-workout:</strong> 18 tháng từ ngày sản xuất</li>
                    <li><strong>Vitamin, Omega-3:</strong> 24 tháng từ ngày sản xuất</li>
                    <li><strong>Thực phẩm chức năng khác:</strong> Theo hạn sử dụng</li>
                </ul>

                <h3>3. Quy trình bảo hành</h3>
                <ol>
                    <li><strong>Tiếp nhận:</strong> Khách hàng mang sản phẩm đến cửa hàng</li>
                    <li><strong>Kiểm tra:</strong> Nhân viên kiểm tra điều kiện bảo hành</li>
                    <li><strong>Xác nhận:</strong> Thông báo kết quả trong 24h</li>
                    <li><strong>Xử lý:</strong> Đổi mới hoặc sửa chữa theo chính sách</li>
                </ol>

                <h3>4. Hình thức bảo hành</h3>
                <ul>
                    <li><strong>Đổi mới:</strong> Sản phẩm cùng loại, cùng giá trị</li>
                    <li><strong>Hoàn tiền:</strong> 100% giá trị sản phẩm</li>
                    <li><strong>Giảm giá:</strong> Cho sản phẩm thay thế khác</li>
                    <li><strong>Sửa chữa:</strong> Đối với lỗi kỹ thuật nhỏ</li>
                </ul>

                <div class="highlight">
                    <h4>Cam kết bảo hành</h4>
                    <p>LavaWhey cam kết xử lý bảo hành nhanh chóng, minh bạch. Mọi trường hợp bảo hành đều được giải quyết trong vòng 7 ngày làm việc.</p>
                </div>

                <div class="contact-info">
                    <h4>Bộ phận bảo hành</h4>
                    <p><strong>Địa chỉ:</strong> Hẻm 112/12, Đường 3/2, Hưng Lợi, Ninh Kiều, TP.Cần Thơ</p>
                    <p><strong>Điện thoại:</strong> 0847 788 360</p>
                    <p><strong>Email:</strong> warranty@lavawhey.com</p>
                    <p><strong>Giờ làm việc:</strong> 8:00 - 18:00 (Thứ 2 - Thứ 7)</p>
                </div>
            </div>

            <!-- Chính sách đổi trả -->
            <div class="policy-section" id="return-policy">
                <h2>Chính sách đổi trả</h2>
                
                <h3>1. Điều kiện đổi trả</h3>
                <p>Khách hàng có thể đổi trả sản phẩm trong các trường hợp:</p>
                <ul>
                    <li>Sản phẩm bị lỗi từ nhà sản xuất</li>
                    <li>Sản phẩm không đúng với đơn hàng</li>
                    <li>Sản phẩm bị hư hỏng trong quá trình vận chuyển</li>
                    <li>Sản phẩm hết hạn sử dụng</li>
                    <li>Khách hàng không hài lòng về chất lượng</li>
                </ul>

                <h3>2. Thời gian đổi trả</h3>
                <div class="highlight">
                    <h4>Chính sách 30 ngày đổi trả</h4>
                    <p>Khách hàng có thể đổi trả sản phẩm trong vòng 30 ngày kể từ ngày nhận hàng, với điều kiện sản phẩm còn nguyên vẹn, chưa sử dụng và còn hạn sử dụng.</p>
                </div>

                <h3>3. Sản phẩm không được đổi trả</h3>
                <ul>
                    <li>Sản phẩm đã được sử dụng</li>
                    <li>Sản phẩm bị hư hỏng do sử dụng sai cách</li>
                    <li>Sản phẩm đã hết hạn sử dụng</li>
                    <li>Sản phẩm không còn tem, nhãn mác</li>
                    <li>Sản phẩm khuyến mãi, giảm giá đặc biệt</li>
                </ul>

                <h3>4. Quy trình đổi trả</h3>
                <ol>
                    <li><strong>Liên hệ:</strong> Gọi hotline hoặc gửi email yêu cầu đổi trả</li>
                    <li><strong>Xác nhận:</strong> Nhân viên xác nhận điều kiện đổi trả</li>
                    <li><strong>Gửi hàng:</strong> Khách hàng gửi sản phẩm về cửa hàng</li>
                    <li><strong>Kiểm tra:</strong> Nhân viên kiểm tra tình trạng sản phẩm</li>
                    <li><strong>Xử lý:</strong> Đổi trả hoặc hoàn tiền trong 3-5 ngày</li>
                </ol>

                <h3>5. Hình thức đổi trả</h3>
                <ul>
                    <li><strong>Đổi sản phẩm:</strong> Sản phẩm cùng loại hoặc khác loại</li>
                    <li><strong>Hoàn tiền:</strong> 100% giá trị sản phẩm</li>
                    <li><strong>Chuyển khoản:</strong> Hoàn tiền qua tài khoản ngân hàng</li>
                    <li><strong>Trừ vào đơn hàng tiếp theo:</strong> Áp dụng cho khách hàng thân thiết</li>
                </ul>

                <h3>6. Chi phí đổi trả</h3>
                <p><strong>Miễn phí đổi trả:</strong></p>
                <ul>
                    <li>Sản phẩm bị lỗi từ nhà sản xuất</li>
                    <li>Sản phẩm không đúng đơn hàng</li>
                    <li>Sản phẩm bị hư hỏng do vận chuyển</li>
                </ul>
                <p><strong>Khách hàng chịu phí:</strong></p>
                <ul>
                    <li>Phí vận chuyển về cửa hàng (nếu đổi trả do không hài lòng)</li>
                    <li>Phí kiểm tra chất lượng (nếu cần)</li>
                </ul>

                <div class="contact-info">
                    <h4>Bộ phận đổi trả</h4>
                    <p><strong>Hotline:</strong> 0847 788 360</p>
                    <p><strong>Email:</strong> returns@lavawhey.com</p>
                    <p><strong>Địa chỉ:</strong> Hẻm 112/12, Đường 3/2, Hưng Lợi, Ninh Kiều, TP.Cần Thơ</p>
                    <p><strong>Thời gian xử lý:</strong> 3-5 ngày làm việc</p>
                </div>
            </div>

        </div>
    </section>

    

  

    

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Giới thiệu chung</h3>
                <p><a href="about.html" style="text-decoration:none; color:inherit; cursor:pointer;">Giới thiệu về LavaWhey</a></p>
                <p><a href="about.html#featured-brands" style="text-decoration:none; color:inherit; cursor:pointer;">Thương hiệu nổi bật</a></p>
                <p><a href="about.html#contact-complaints" style="text-decoration:none; color:inherit; cursor:pointer;">Liên hệ & khiếu nại</a></p>
                <p><a href="about.html#transaction-terms" style="text-decoration:none; color:inherit; cursor:pointer;">Điều khoản giao dịch</a></p>
            </div>
            <div class="footer-section">
                <h3>Chính sách chung</h3>
                <p>Chính sách dữ liệu</p>
                <p>Chính sách bảo mật</p>
                <p>Chính sách kinh doanh</p>
                <p>Chính sách vận chuyển</p>
                <p>Chính sách bảo hành</p>
                <p>Chính sách đổi trả</p>
            </div>
            <div class="footer-section">
                <h3>Hỗ trợ khách hàng</h3>
                <p>Facebook: LavaWhey</p>
                <p>Instagram: @LavaWhey</p>
                <p><i class="fas fa-headset"></i> Hotline: 0847 788 360</p>
                <p><i class="fas fa-envelope"></i> Email: LavaWhey@gmail.com</p>
                <p><i class="fas fa-question-circle"></i> Hẻm 112/12, Đường 3/2, Hưng Lợi, Ninh Kiều, TP.Cần Thơ</p>
            </div>
            <div class="footer-section">
                <h3>Đăng ký bản tin</h3>
                <p>Nhận thông tin mới nhất về sản phẩm và khuyến mãi</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Email của bạn" required>
                    <button type="submit">Đăng ký</button>
                </form>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 LavaWhey. All rights reserved.</p>
        </div>
    </footer>

    <!-- Auth Modals -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h2>Đăng nhập</h2>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Mật khẩu</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <div class="form-options">
                        <label>
                            <input type="checkbox"> Ghi nhớ đăng nhập
                        </label>
                        <a href="#" class="forgot-password">Quên mật khẩu?</a>
                    </div>
                    <button type="submit" class="submit-button">Đăng nhập</button>
                    <div class="social-login">
                        <p>Hoặc đăng nhập với</p>
                        <button type="button" class="google-login">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google">
                            Đăng nhập với Google
                        </button>
                    </div>
                </form>
                <div class="modal-footer">
                    <p>Chưa có tài khoản? <a href="#" class="switch-modal" data-target="registerModal">Đăng ký ngay</a></p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="registerModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h2>Đăng ký tài khoản</h2>
            </div>
            <div class="modal-body">
                <form id="registerForm">
                    <div class="form-group">
                        <label for="registerName">Họ và tên</label>
                        <input type="text" id="registerName" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email</label>
                        <input type="email" id="registerEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPhone">Số điện thoại</label>
                        <input type="tel" id="registerPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Mật khẩu</label>
                        <input type="password" id="registerPassword" required>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Xác nhận mật khẩu</label>
                        <input type="password" id="confirmPassword" required>
                    </div>
                    <div class="form-options">
                        <label>
                            <input type="checkbox" required> Tôi đồng ý với <a href="#">điều khoản sử dụng</a>
                        </label>
                    </div>
                    <button type="submit" class="submit-button">Đăng ký</button>
                </form>
                <div class="modal-footer">
                    <p>Đã có tài khoản? <a href="#" class="switch-modal" data-target="loginModal">Đăng nhập</a></p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="forgotPasswordModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h2>Quên mật khẩu</h2>
            </div>
            <div class="modal-body">
                <form id="forgotPasswordForm">
                    <div class="form-group">
                        <label for="forgotEmail">Email</label>
                        <input type="email" id="forgotEmail" required>
                    </div>
                    <button type="submit" class="submit-button">Gửi link đặt lại mật khẩu</button>
                </form>
                <div class="modal-footer">
                    <p>Đã nhớ mật khẩu? <a href="#" class="switch-modal" data-target="loginModal">Đăng nhập</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Thương hiệu nổi bật -->
    <div class="modal" id="featuredBrandsModal">
      <div class="modal-content" style="max-width:600px">
        <span class="close-modal">&times;</span>
        <div class="modal-header">
          <h2>Thương hiệu nổi bật</h2>
        </div>
        <div class="modal-body" style="max-height:70vh;overflow-y:auto;text-align:left;">
          <div style="margin-bottom:2em">
            <h3 style="color:#FF6B00">Optimum Nutrition (ON)</h3>
            <ul>
              <li>Là thương hiệu thực phẩm bổ sung hàng đầu thế giới, nổi tiếng với sản phẩm Whey Gold Standard.</li>
              <li>Thành lập năm 1986 tại Mỹ, thuộc tập đoàn Glanbia.</li>
              <li>Sản phẩm được kiểm định nghiêm ngặt, đạt nhiều chứng nhận quốc tế (Informed-Choice, GMP).</li>
              <li>Whey Gold Standard được đánh giá cao về độ tinh khiết, khả năng hòa tan và hiệu quả phục hồi cơ bắp.</li>
            </ul>
          </div>
          <div style="margin-bottom:2em">
            <h3 style="color:#FF6B00">Dymatize</h3>
            <ul>
              <li>Thành lập năm 1994 tại Mỹ, nổi bật với dòng ISO100 (Whey Isolate siêu tinh khiết).</li>
              <li>Sản phẩm được sản xuất tại nhà máy đạt chuẩn NSF GMP, kiểm nghiệm chất lượng nghiêm ngặt.</li>
              <li>ISO100 thường được các vận động viên chuyên nghiệp lựa chọn nhờ tốc độ hấp thu nhanh, không chứa lactose, ít tạp chất.</li>
            </ul>
          </div>
          <div style="margin-bottom:2em">
            <h3 style="color:#FF6B00">MyProtein</h3>
            <ul>
              <li>Thương hiệu thực phẩm bổ sung lớn nhất châu Âu, thành lập tại Anh năm 2004.</li>
              <li>Nổi tiếng với Impact Whey Protein, đa dạng hương vị, giá thành hợp lý.</li>
              <li>Sản phẩm đạt chuẩn chất lượng của châu Âu, được kiểm nghiệm bởi Labdoor, Informed-Sport.</li>
              <li>Được cộng đồng fitness quốc tế đánh giá cao về sự minh bạch thành phần và giá trị dinh dưỡng.</li>
            </ul>
          </div>
          <div style="margin-bottom:2em">
            <h3 style="color:#FF6B00">Rule 1 Proteins</h3>
            <ul>
              <li>Thương hiệu Mỹ, sáng lập bởi các cựu lãnh đạo của Optimum Nutrition.</li>
              <li>Nổi bật với sản phẩm Rule 1 R1 Whey Blend và R1 Protein Isolate.</li>
              <li>Cam kết không sử dụng amino spiking, thành phần rõ ràng, chất lượng cao.</li>
              <li>Được sản xuất tại nhà máy đạt chuẩn GMP, kiểm soát chất lượng nghiêm ngặt.</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Featured Brands Modal functionality
      var featuredBrandsBtn = document.getElementById('footer-featured-brands');
      var featuredBrandsModal = document.getElementById('featuredBrandsModal');
      if (featuredBrandsBtn && featuredBrandsModal) {
        featuredBrandsBtn.addEventListener('click', function() {
          featuredBrandsModal.classList.add('show');
          document.body.style.overflow = 'hidden';
        });
        featuredBrandsModal.querySelector('.close-modal').addEventListener('click', function() {
          featuredBrandsModal.classList.remove('show');
          document.body.style.overflow = '';
        });
        window.addEventListener('click', function(e) {
          if (e.target === featuredBrandsModal) {
            featuredBrandsModal.classList.remove('show');
            document.body.style.overflow = '';
          }
        });
      }

      // Cart functionality
      const cartBtn = document.querySelector('.btn-cart');
      const cartDropdown = document.querySelector('.cart-dropdown');
      const cartCount = document.querySelector('.cart-count');
      const cartCountBadge = document.querySelector('.cart-count-badge');
      const cartItems = document.querySelector('.cart-items');
      const emptyCart = document.querySelector('.empty-cart');
      const cartSummary = document.querySelector('.cart-summary');
      const cartButtons = document.querySelector('.cart-buttons');

      // Toggle cart dropdown
      cartBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        cartDropdown.classList.toggle('show');
        updateCartDisplay();
      });

      // Close cart when clicking outside
      document.addEventListener('click', function(e) {
        if (!cartDropdown.contains(e.target) && !cartBtn.contains(e.target)) {
          cartDropdown.classList.remove('show');
        }
      });

      // Prevent dropdown from closing when clicking inside
      cartDropdown.addEventListener('click', function(e) {
        e.stopPropagation();
      });

      // Function to update cart display
      function updateCartDisplay() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const itemCount = cart.reduce((total, item) => total + item.quantity, 0);
        const totalPrice = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        
        cartCount.textContent = itemCount;
        cartCountBadge.textContent = itemCount + ' sản phẩm';
        
        if (cart.length === 0) {
          emptyCart.style.display = 'block';
          cartItems.style.display = 'none';
          cartSummary.style.display = 'none';
          cartButtons.style.display = 'none';
        } else {
          emptyCart.style.display = 'none';
          cartItems.style.display = 'block';
          cartSummary.style.display = 'block';
          cartButtons.style.display = 'flex';
          
          cartItems.innerHTML = cart.map(item => `
            <div class="cart-item">
              <img src="${item.image}" alt="${item.name}" class="cart-item-image">
              <div class="cart-item-details">
                <div class="cart-item-name">${item.name}</div>
                <div class="cart-item-price">${item.price.toLocaleString()}₫</div>
                <div class="cart-item-quantity">
                  <button class="quantity-btn minus" onclick="updateQuantity('${item.id}', ${item.quantity - 1})">-</button>
                  <input type="number" class="quantity-input" value="${item.quantity}" min="1" onchange="updateQuantity('${item.id}', this.value)">
                  <button class="quantity-btn plus" onclick="updateQuantity('${item.id}', ${item.quantity + 1})">+</button>
                </div>
              </div>
              <div class="cart-item-remove" onclick="removeFromCart('${item.id}')">
                <i class="fas fa-trash"></i>
              </div>
            </div>
          `).join('');
          
          const summaryRows = cartSummary.querySelectorAll('.cart-summary-row');
          summaryRows[0].lastElementChild.textContent = totalPrice.toLocaleString() + '₫';
          summaryRows[2].lastElementChild.textContent = totalPrice.toLocaleString() + '₫';
        }
      }

      // Update quantity from cart
      window.updateQuantity = function(id, newQuantity) {
        newQuantity = parseInt(newQuantity);
        if (newQuantity < 1) return;
        
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const itemIndex = cart.findIndex(item => item.id === id);
        
        if (itemIndex !== -1) {
          cart[itemIndex].quantity = newQuantity;
          localStorage.setItem('cart', JSON.stringify(cart));
          updateCartDisplay();
        }
      };

      // Remove from cart
      window.removeFromCart = function(id) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        cart = cart.filter(item => item.id !== id);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartDisplay();
      };

      // Initialize cart display
      updateCartDisplay();

      // Handle checkout button
      document.querySelector('.btn-checkout').addEventListener('click', function() {
        window.location.href = 'checkout.html';
      });

      // Handle continue shopping button
      document.querySelector('.btn-continue').addEventListener('click', function() {
        cartDropdown.classList.remove('show');
      });
    });
    </script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDPdSUkT56drPQGE9N4KvjM3ZoQaeamdao",
            authDomain: "lavawhey.firebaseapp.com",
            projectId: "lavawhey",
            storageBucket: "lavawhey.firebasestorage.app",
            messagingSenderId: "261576736130",
            appId: "1:261576736130:web:9d8b878a50e01c9591a39b",
            measurementId: "G-BR9VJHPJGL"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        // Get auth instance
        const auth = firebase.auth();

        // Google Sign-in Provider
        const googleProvider = new firebase.auth.GoogleAuthProvider();
        googleProvider.setCustomParameters({
            prompt: 'select_account'
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return; // Skip if href is just "#"
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Smooth scrolling for cross-page links
        document.querySelectorAll('a[href*="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href.includes('#')) {
                    const [page, targetId] = href.split('#');
                    if (page === window.location.pathname.split('/').pop() || page === '') {
                        e.preventDefault();
                        const targetElement = document.querySelector('#' + targetId);
                        if (targetElement) {
                            targetElement.scrollIntoView({
                                behavior: 'smooth'
                            });
                        }
                    }
                }
            });
        });
        
        // Add to cart functionality
        document.querySelectorAll('.buy-button').forEach(button => {
            button.addEventListener('click', function() {
                const product = this.parentElement;
                const productName = product.querySelector('h3').textContent;
                alert(`Đã thêm ${productName} vào giỏ hàng!`);
            });
        });

        // Modal Functionality
        document.addEventListener('DOMContentLoaded', function() {
            // Get modal elements
            const loginModal = document.getElementById('loginModal');
            const registerModal = document.getElementById('registerModal');
            const forgotPasswordModal = document.getElementById('forgotPasswordModal');
            const loginButton = document.querySelector('.btn-login');
            const closeButtons = document.querySelectorAll('.close-modal');
            const switchModalLinks = document.querySelectorAll('.switch-modal');
            const forgotPasswordLink = document.querySelector('.forgot-password');

            // Show login modal when clicking login button
            loginButton.addEventListener('click', function(e) {
                e.preventDefault();
                showModal(loginModal);
            });

            // Close modal when clicking close button
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    hideModal(modal);
                });
            });

            // Close modal when clicking outside
            window.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal')) {
                    hideModal(e.target);
                }
            });

            // Switch between modals
            switchModalLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const currentModal = this.closest('.modal');
                    const targetModalId = this.getAttribute('data-target');
                    const targetModal = document.getElementById(targetModalId);
                    
                    hideModal(currentModal);
                    showModal(targetModal);
                });
            });

            // Show forgot password modal
            forgotPasswordLink.addEventListener('click', function(e) {
                e.preventDefault();
                hideModal(loginModal);
                showModal(forgotPasswordModal);
            });

            // Helper functions
            function showModal(modal) {
                modal.classList.add('show');
                document.body.style.overflow = 'hidden';
            }

            function hideModal(modal) {
                modal.classList.remove('show');
                document.body.style.overflow = '';
            }

            function showSuccessMessage(message) {
                Swal.fire({
                    title: 'Thành công!',
                    text: message,
                    icon: 'success',
                    confirmButtonText: 'OK',
                    confirmButtonColor: '#FF6B00',
                    timer: 2000,
                    timerProgressBar: true
                });
            }

            function showErrorMessage(message) {
                Swal.fire({
                    title: 'Lỗi!',
                    text: message,
                    icon: 'error',
                    confirmButtonText: 'OK',
                    confirmButtonColor: '#FF6B00'
                });
            }

            function showLoadingMessage(message) {
                Swal.fire({
                    title: 'Đang xử lý...',
                    text: message,
                    allowOutsideClick: false,
                    didOpen: () => {
                        Swal.showLoading();
                    }
                });
            }

            function updateUIForLoggedInUser(user) {
                const loginButton = document.querySelector('.btn-login');
                if (user) {
                    try {
                        // Lưu thông tin người dùng vào Realtime Database với xử lý lỗi
                        const database = firebase.database();
                        const userRef = database.ref('users/' + user.uid);
                        
                        // Chuẩn bị dữ liệu người dùng
                        const userData = {
                            displayName: user.displayName || '',
                            email: user.email || '',
                            photoURL: user.photoURL || '',
                            lastLogin: new Date().toISOString()
                        };

                        // Thêm thông tin provider nếu đăng nhập qua Google
                        if (user.providerData && user.providerData[0].providerId === 'google.com') {
                            userData.provider = 'google';
                            userData.googleData = {
                                email_verified: user.emailVerified,
                                created_at: user.metadata.creationTime
                            };
                        }

                        // Cập nhật dữ liệu với xử lý lỗi
                        userRef.update(userData)
                            .then(() => {
                                console.log('User data updated successfully');
                            })
                            .catch(error => {
                                console.warn('Failed to update user data:', error);
                                // Vẫn tiếp tục cập nhật UI ngay cả khi lưu DB thất bại
                            });

                        // Cập nhật UI
                        const userAvatar = document.createElement('img');
                        userAvatar.src = userData.photoURL || 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJmZWF0aGVyIGZlYXRoZXItdXNlciI+PHBhdGggZD0iTTIwIDIxdi0yYTQgNCAwIDAgMC00LTRINGA0IDQgMCAwIDAtNCA0djIiPjwvcGF0aD48Y2lyY2xlIGN4PSIxMiIgY3k9IjciIHI9IjQiPjwvY2lyY2xlPjwvc3ZnPg==';
                        userAvatar.style.width = '30px';
                        userAvatar.style.height = '30px';
                        userAvatar.style.borderRadius = '50%';
                        userAvatar.style.marginRight = '10px';
                        userAvatar.style.verticalAlign = 'middle';
                        
                        loginButton.innerHTML = ''; // Clear existing content
                        loginButton.appendChild(userAvatar);
                        loginButton.appendChild(document.createTextNode(userData.displayName || 'Đăng xuất'));
                        loginButton.removeAttribute('href');
                        
                        // Xử lý đăng xuất
                        loginButton.onclick = function(e) {
                            e.preventDefault();
                            Swal.fire({
                                title: 'Xác nhận đăng xuất',
                                text: 'Bạn có chắc chắn muốn đăng xuất?',
                                icon: 'question',
                                showCancelButton: true,
                                confirmButtonColor: '#FF6B00',
                                cancelButtonColor: '#d33',
                                confirmButtonText: 'Đăng xuất',
                                cancelButtonText: 'Hủy'
                            }).then((result) => {
                                if (result.isConfirmed) {
                                    auth.signOut().then(() => {
                                        loginButton.innerHTML = 'Đăng nhập';
                                        loginButton.onclick = function(e) {
                                            e.preventDefault();
                                            showModal(loginModal);
                                        };
                                        hideModal(loginModal);
                                        hideModal(registerModal);
                                        hideModal(forgotPasswordModal);
                                        showSuccessMessage('Đăng xuất thành công!');
                                    }).catch((error) => {
                                        showErrorMessage('Lỗi khi đăng xuất: ' + error.message);
                                    });
                                }
                            });
                        };
                    } catch (error) {
                        console.error('Error updating UI:', error);
                        showErrorMessage('Có lỗi xảy ra khi cập nhật giao diện');
                    }
                } else {
                    loginButton.innerHTML = 'Đăng nhập';
                    loginButton.onclick = function(e) {
                        e.preventDefault();
                        showModal(loginModal);
                    };
                }
            }

            // Form submissions
            document.getElementById('loginForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                const rememberMe = document.querySelector('#loginForm input[type="checkbox"]').checked;

                showLoadingMessage('Đang đăng nhập...');
                try {
                    const userCredential = await auth.signInWithEmailAndPassword(email, password);
                    if (rememberMe) {
                        await auth.setPersistence(firebase.auth.Auth.Persistence.LOCAL);
                    }
                    hideModal(loginModal);
                    showSuccessMessage('Đăng nhập thành công!');
                    updateUIForLoggedInUser(userCredential.user);
                } catch (error) {
                    showErrorMessage('Đăng nhập thất bại: ' + error.message);
                }
            });

            document.getElementById('registerForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('registerEmail').value;
                const password = document.getElementById('registerPassword').value;
                const confirmPassword = document.getElementById('confirmPassword').value;
                const name = document.getElementById('registerName').value;
                const phone = document.getElementById('registerPhone').value;

                if (password !== confirmPassword) {
                    showErrorMessage('Mật khẩu xác nhận không khớp!');
                    return;
                }

                showLoadingMessage('Đang đăng ký...');
                try {
                    const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                    await userCredential.user.updateProfile({
                        displayName: name
                    });
                    hideModal(registerModal);
                    showSuccessMessage('Đăng ký thành công!');
                    updateUIForLoggedInUser(userCredential.user);
                } catch (error) {
                    showErrorMessage('Đăng ký thất bại: ' + error.message);
                }
            });

            document.getElementById('forgotPasswordForm').addEventListener('submit', async function(e) {
                e.preventDefault();
                const email = document.getElementById('forgotEmail').value;

                showLoadingMessage('Đang gửi email...');
                try {
                    await auth.sendPasswordResetEmail(email);
                    hideModal(forgotPasswordModal);
                    showSuccessMessage('Email đặt lại mật khẩu đã được gửi!');
                } catch (error) {
                    showErrorMessage('Gửi email thất bại: ' + error.message);
                }
            });

            // Google Sign-in
            const googleButtons = document.querySelectorAll('.google-login');
            googleButtons.forEach(button => {
                button.addEventListener('click', async function() {
                    showLoadingMessage('Đang chuyển hướng đến Google...');
                    try {
                        const result = await auth.signInWithPopup(googleProvider);
                        if (result.user) {
                            // Lưu thông tin bổ sung từ Google
                            const database = firebase.database();
                            const userRef = database.ref('users/' + result.user.uid);
                            const userData = {
                                displayName: result.user.displayName,
                                email: result.user.email,
                                photoURL: result.user.photoURL,
                                lastLogin: new Date().toISOString(),
                                provider: 'google',
                                googleData: {
                                    email_verified: result.user.emailVerified,
                                    created_at: result.user.metadata.creationTime
                                }
                            };
                            
                            try {
                                await userRef.update(userData);
                            } catch (dbError) {
                                console.warn('Failed to update user data:', dbError);
                            }
                            
                            hideModal(loginModal);
                            showSuccessMessage('Đăng nhập thành công!');
                            updateUIForLoggedInUser(result.user);
                        }
                    } catch (error) {
                        if (error.code === 'auth/popup-closed-by-user') {
                            showErrorMessage('Đăng nhập đã bị hủy');
                        } else {
                            showErrorMessage('Đăng nhập Google thất bại: ' + error.message);
                        }
                    }
                });
            });

            // Check auth state
            auth.onAuthStateChanged(function(user) {
                if (user) {
                    updateUIForLoggedInUser(user);
                }
            });

            // Handle direct access to anchor links
            if (window.location.hash) {
                const targetElement = document.querySelector(window.location.hash);
                if (targetElement) {
                    setTimeout(() => {
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }, 100);
                }
            }
        });

        // --- CART GLOBAL LOGIC ---
        let cart = [];
        let cartBtn, cartDropdown, cartItems, cartCount, cartCountBadge, emptyCart, cartSummary, cartButtons;
        
        // Cart initialization and event listener setup
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize cart DOM elements
            cartBtn = document.querySelector('.btn-cart');
            cartDropdown = document.querySelector('.cart-dropdown');
            cartItems = document.querySelector('.cart-items');
            cartCount = document.querySelector('.cart-count');
            cartCountBadge = document.querySelector('.cart-count-badge');
            emptyCart = document.querySelector('.empty-cart');
            cartSummary = document.querySelector('.cart-summary');
            cartButtons = document.querySelector('.cart-buttons');

            // Verify all cart elements exist before setting up event listeners
            if (cartBtn && cartDropdown && cartItems && cartCount && cartCountBadge && emptyCart && cartSummary && cartButtons) {
                // Toggle cart dropdown
                cartBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    cartDropdown.classList.toggle('show');
                    updateCartDisplay();
                });

                // Prevent dropdown from closing when clicking inside
                cartDropdown.addEventListener('click', function(e) {
                    e.stopPropagation();
                });

                // Close cart when clicking outside
                document.addEventListener('click', function(e) {
                    if (cartDropdown && !cartDropdown.contains(e.target) && !cartBtn.contains(e.target)) {
                        cartDropdown.classList.remove('show');
                    }
                });

                // Find buttons and add event listeners
                const continueBtn = document.querySelector('.btn-continue');
                const checkoutBtn = document.querySelector('.btn-checkout');

                if (continueBtn) {
                    continueBtn.addEventListener('click', function() {
                        cartDropdown.classList.remove('show');
                    });
                }

                if (checkoutBtn) {
                    checkoutBtn.addEventListener('click', function() {
                        if (cart.length > 0) {
                            window.location.href = 'checkout.html';
                        }
                    });
                }

                // Listen for storage events to sync cart across tabs/pages
                window.addEventListener('storage', function(e) {
                    if (e.key === getCartKey()) {
                        cart = JSON.parse(e.newValue || '[]');
                        updateCartDisplay();
                    }
                });

                // Load cart data
                loadCart();
            } else {
                console.warn('Some cart elements are missing from the DOM');
            }
        });
        // --- END CART GLOBAL LOGIC ---

        function getCartKey() {
            const user = firebase.auth().currentUser;
            return user ? `cart_${user.uid}` : 'cart_guest';
        }
        function saveCart() {
            localStorage.setItem(getCartKey(), JSON.stringify(cart));
        }
        function loadCart() {
            const savedCart = localStorage.getItem(getCartKey());
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartDisplay();
            } else {
                cart = [];
                updateCartDisplay();
            }
        }
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            // Đảm bảo price là số trước khi thêm vào giỏ hàng
            const price = typeof product.price === 'string'
                ? parseInt(product.price.replace(/[^\d]/g, ''))
                : product.price;
            if (existingItem) {
                existingItem.quantity += product.quantity || 1;
            } else {
                cart.push({
                    ...product,
                    price: price // Lưu price dưới dạng số
                });
            }
            updateCartDisplay();
            saveCart();
        }
        function updateCartDisplay() {
            // Only update if cart elements exist
            if (!cartCount || !cartCountBadge || !emptyCart || !cartSummary || !cartButtons || !cartItems) {
                return;
            }

            const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 0), 0);
            
            // Update display elements
            cartCount.textContent = totalItems;
            cartCountBadge.textContent = `${totalItems} sản phẩm`;

            if (totalItems === 0) {
                emptyCart.style.display = 'block';
                cartSummary.style.display = 'none';
                cartButtons.style.display = 'none';
                cartItems.innerHTML = '';
            } else {
                emptyCart.style.display = 'none';
                cartSummary.style.display = 'block';
                cartButtons.style.display = 'flex';
                renderCartItems();
            }
            updateCartSummary();
        }
        function renderCartItems() {
            if (!cartItems) {
                return;
            }

            try {
                cartItems.innerHTML = cart.map(item => {
                    const id = item.id || '';
                    const image = item.image || '';
                    const name = item.name || '';
                    const price = item.price || 0;
                    const quantity = item.quantity || 0;

                    return `
                        <div class="cart-item" data-id="${id}">
                            <img src="${image}" alt="${name}" class="cart-item-image">
                            <div class="cart-item-details">
                                <h4 class="cart-item-name">${name}</h4>
                                <div class="cart-item-price">${formatPrice(price)}</div>
                                <div class="cart-item-quantity">
                                    <button class="quantity-btn minus" ${quantity <= 1 ? 'disabled' : ''}>-</button>
                                    <input type="number" class="quantity-input" value="${quantity}" min="1" max="99">
                                    <button class="quantity-btn plus">+</button>
                                </div>
                            </div>
                            <i class="fas fa-times cart-item-remove"></i>
                        </div>
                    `;
                }).join('');

                // Add event listeners for quantity buttons
                cartItems.querySelectorAll('.quantity-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const item = this.closest('.cart-item');
                        if (!item) return;
                        
                        const id = item.dataset.id;
                        const cartItem = cart.find(i => i.id === id);
                        if (!cartItem) return;

                        if (this.classList.contains('plus')) {
                            cartItem.quantity = (cartItem.quantity || 0) + 1;
                        } else if (this.classList.contains('minus') && cartItem.quantity > 1) {
                            cartItem.quantity--;
                        }
                        updateCartDisplay();
                        saveCart();
                    });
                });

                // Add event listeners for quantity input
                cartItems.querySelectorAll('.quantity-input').forEach(input => {
                    input.addEventListener('change', function() {
                        const item = this.closest('.cart-item');
                        if (!item) return;

                        const id = item.dataset.id;
                        const cartItem = cart.find(i => i.id === id);
                        if (!cartItem) return;

                        const newQuantity = parseInt(this.value);
                        if (newQuantity > 0 && newQuantity < 100) {
                            cartItem.quantity = newQuantity;
                            updateCartDisplay();
                            saveCart();
                        } else {
                            this.value = cartItem.quantity;
                        }
                    });
                });

                // Add event listeners for remove buttons
                cartItems.querySelectorAll('.cart-item-remove').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const item = this.closest('.cart-item');
                        if (!item) return;

                        const id = item.dataset.id;
                        cart = cart.filter(i => i.id !== id);
                        updateCartDisplay();
                        saveCart();
                    });
                });
            } catch (error) {
                console.error('Error rendering cart items:', error);
                cartItems.innerHTML = '<div class="cart-error">Error displaying cart items</div>';
            }
        }
        function updateCartSummary() {
            // Only update if cart dropdown exists
            if (!cartDropdown) {
                return;
            }

            const subtotal = cart.reduce((sum, item) => {
                const price = typeof item.price === 'string' 
                    ? parseInt(item.price.replace(/[^\d]/g, ''))
                    : item.price;
                return sum + (price * (item.quantity || 0));
            }, 0);
            const shipping = subtotal > 0 ? 30000 : 0;
            const total = subtotal + shipping;

            const summaryRows = cartDropdown.querySelectorAll('.cart-summary-row');
            if (summaryRows.length >= 3) {
                const subtotalElement = summaryRows[0].querySelector('span:last-child');
                const shippingElement = summaryRows[1].querySelector('span:last-child');
                const totalElement = summaryRows[2].querySelector('span:last-child');

                if (subtotalElement && shippingElement && totalElement) {
                    subtotalElement.textContent = formatPrice(subtotal);
                    shippingElement.textContent = formatPrice(shipping);
                    totalElement.textContent = formatPrice(total);
                }
            }
        }
        // --- END CART GLOBAL LOGIC ---

        // Function to format price
        function formatPrice(price) {
            return new Intl.NumberFormat('vi-VN', {
                style: 'currency',
                currency: 'VND'
            }).format(price);
        }

        // News slider logic with safety checks
        async function renderNewsSlider() {
            const grid = document.querySelector('.news-slider');
            // Only proceed if the news-slider element exists
            if (grid) {
                grid.innerHTML = '<div style="text-align:center;width:100%">Đang tải tin tức...</div>';
                try {
                    const db = firebase.database();
                    const snapshot = await db.ref('news').once('value');
                    const newsObj = snapshot.val();
                    
                    if (!newsObj) {
                        grid.innerHTML = '<div style="text-align:center;width:100%">Chưa có tin tức</div>';
                        return;
                    }

                    // Convert to array and get latest 3 news
                    const newsArr = Object.values(newsObj)
                        .sort((a, b) => new Date(b.date) - new Date(a.date))
                        .slice(0, 3);

                    grid.innerHTML = '';
                    newsArr.forEach(news => {
                        const card = document.createElement('div');
                        card.className = 'news-card';
                        card.innerHTML = `
                            <a href="news.html?id=${news.id}" style="text-decoration:none; color:inherit; display:block;">
                                <img src="${news.image}" alt="${news.title}">
                                <h3>${news.title}</h3>
                                <p>${news.description}</p>
                                <span class="read-more" style="color:#FF6B00; font-weight:500; display:inline-block; margin-top:8px;">Đọc thêm</span>
                            </a>
                        `;
                        grid.appendChild(card);
                    });
                } catch (err) {
                    console.error('Error fetching news:', err);
                    grid.innerHTML = '<div style="text-align:center;width:100%">Lỗi tải tin tức</div>';
                }
            }
        }

        // Add event listener for news navigation if needed
        document.addEventListener('DOMContentLoaded', function() {
            const newsGrid = document.querySelector('.news-slider');
            if (newsGrid) {
                renderNewsSlider();
                
                // Add event listeners for navigation buttons if they exist
                const nextBtn = document.querySelector('.news-next-btn');
                if (nextBtn) {
                    nextBtn.addEventListener('click', renderNewsSlider);
                }
                
                const pageButtons = document.querySelectorAll('.news-page-btn');
                if (pageButtons.length) {
                    pageButtons.forEach(btn => {
                        btn.addEventListener('click', renderNewsSlider);
                    });
                }
            }
        });
    </script>

    <script>
    // ... existing code ...
    // Hiển thị mã khuyến mãi động thay cho banner Siêu Sale Tháng 3
    document.addEventListener('DOMContentLoaded', async function() {
        const saleBanner = document.querySelector('.sale-banner .sale-content');
        if (saleBanner) {
            // Xóa nội dung cũ
            saleBanner.innerHTML = '<h2>Đang tải khuyến mãi...</h2>';
            try {
                const db = firebase.database();
                const snapshot = await db.ref('coupons').once('value');
                const coupons = snapshot.val();
                let found = false;
                if (coupons) {
                    const now = new Date();
                    for (const key in coupons) {
                        const coupon = coupons[key];
                        // Kiểm tra trạng thái và thời gian
                        const start = new Date(coupon.startDate);
                        const end = new Date(coupon.endDate);
                        if (coupon.status === 'active' && now >= start && now <= end) {
                            found = true;
                            saleBanner.innerHTML = `
                                <h2>Mã khuyến mãi: <span style="color:#FF6B00">${coupon.code}</span></h2>
                                <p style="font-size:1.3em;font-weight:600;">${coupon.description || ''}</p>
                                <div style="font-size:1.1em;margin:18px 0;">
                                    <b>Giảm giá:</b> ${coupon.discount}${coupon.type === 'percent' ? '%' : '₫'}<br>
                                    <b>Thời gian áp dụng:</b> ${coupon.startDate} - ${coupon.endDate}<br>
                                    <b>Trạng thái:</b> <span style="color:${coupon.status==='active'?'#4CAF50':'#d33'}">${coupon.status==='active'?'Đang diễn ra':'Không hoạt động'}</span>
                                </div>
                                <button class="cta-button" onclick="navigator.clipboard.writeText('${coupon.code}');Swal.fire({title:'Đã sao chép mã!',text:'${coupon.code}',icon:'success',timer:1200,showConfirmButton:false})">Sao chép mã</button>
                            `;
                            break;
                        }
                    }
                }
                if (!found) {
                    saleBanner.innerHTML = '<h2>Hiện chưa có khuyến mãi nào đang diễn ra</h2>';
                }
            } catch (err) {
                saleBanner.innerHTML = '<h2>Lỗi tải khuyến mãi</h2>';
            }
        }
    });
    // ... existing code ...
    </script>

    <script>
    // ... existing code ...
    // Gửi form liên hệ trên trang chủ lên Firebase
    document.addEventListener('DOMContentLoaded', function() {
        const contactForm = document.querySelector('form.contact-form');
        if (contactForm) {
            contactForm.addEventListener('submit', async function(e) {
                e.preventDefault();
                const name = document.getElementById('name').value.trim();
                const phone = document.getElementById('phone').value.trim();
                const email = document.getElementById('email').value.trim();
                const message = document.getElementById('message').value.trim();

                if (!name || !phone || !email || !message) {
                    Swal.fire({
                        title: 'Lỗi!',
                        text: 'Vui lòng điền đầy đủ thông tin!',
                        icon: 'error',
                        confirmButtonColor: '#FF6B00'
                    });
                    return;
                }

                try {
                    const database = firebase.database();
                    const newContactRef = database.ref('contacts').push();
                    await newContactRef.set({
                        name,
                        phone,
                        email,
                        message,
                        createdAt: new Date().toISOString()
                    });
                    Swal.fire({
                        title: 'Thành công!',
                        text: 'Tin nhắn của bạn đã được gửi. Chúng tôi sẽ liên hệ lại sớm nhất!',
                        icon: 'success',
                        confirmButtonColor: '#FF6B00',
                        timer: 2500
                    });
                    contactForm.reset();
                } catch (error) {
                    Swal.fire({
                        title: 'Lỗi!',
                        text: 'Gửi tin nhắn thất bại: ' + error.message,
                        icon: 'error',
                        confirmButtonColor: '#FF6B00'
                    });
                }
            });
        }
    });
    // ... existing code ...
    </script>

    <script>
    // ... existing code ...
    // Removed duplicate news fetching code as it's now handled in the unified renderNewsSlider function
    // ... existing code ...
    </script>



    <script>
    // ... existing code ...
    // Sự kiện click cho Thương hiệu nổi bật ở footer
    var featuredBrandsBtn = document.getElementById('footer-featured-brands');
    var featuredBrandsModal = document.getElementById('featuredBrandsModal');
    if (featuredBrandsBtn && featuredBrandsModal) {
      featuredBrandsBtn.addEventListener('click', function() {
        featuredBrandsModal.classList.add('show');
        document.body.style.overflow = 'hidden';
      });
      // Đóng modal khi click nút đóng
      featuredBrandsModal.querySelector('.close-modal').addEventListener('click', function() {
        featuredBrandsModal.classList.remove('show');
        document.body.style.overflow = '';
      });
      // Đóng modal khi click ra ngoài
      window.addEventListener('click', function(e) {
        if (e.target === featuredBrandsModal) {
          featuredBrandsModal.classList.remove('show');
          document.body.style.overflow = '';
        }
      });
    }
    // ... existing code ...
    </script>
</body>
</html> 
